{% extends 'base_popup.html' %}

{% load static %}
{% block content %}
<style>
     @font-face {
        font-family: 'NanumGothic';
        src: url("{% static 'fonts/NanumGothic.ttf' %}") format('truetype');
    }
    body {
        font-family: 'NanumGothic', sans-serif ;margin: 20px;

    }


    
    .draft-container { width: 800px; margin: 0 auto; border: 1px solid #ccc; padding: 30px; box-shadow: 2px 2px 10px #eee; }
    
    /* 제목 */
    .title { text-align: center; font-size: 28px; font-weight: bold; margin-bottom: 20px; }
    
    /* 결재란 */
    .approval-table { float: right; border-collapse: collapse; width: 300px; margin-bottom: 20px; }
    .approval-table th, .approval-table td { border: 1px solid #000; text-align: center; font-size: 12px; height: 25px; }
    .approval-table th { background-color: #f2f2f2; width: 20%; }
    .approval-table td.sign { height: 60px; width: 40%; } /* 서명란 높이 */

    /* 기본정보 */
    .info-table { border-collapse: collapse; width: 100%; margin-bottom: 20px; clear: both; }
    .info-table th, .info-table td { border: 1px solid #000; padding: 10px; font-size: 14px; }
    .info-table th { background-color: #f2f2f2; width: 15%; text-align: left; }
    .info-table td { width: 35%; }

    /* 내용 */
    .content-table { border-collapse: collapse; width: 100%; }
    .content-table th, .content-table td { border: 1px solid #000; padding: 10px; font-size: 14px; }
    .content-table th { background-color: #f2f2f2; text-align: center; }
    .content-table td.content-area { height: 300px; vertical-align: top; }

    /* 인쇄 시 설정 */
    @media print {
        body { margin: 0; }
        .draft-container { box-shadow: none; border: none; width: 100%; }
        .no-print { display: none; }
    }
</style>
</head>
<body>

<div class="draft-container">
    <div class="title">기 안 서</div>

    <!-- 결재란 -->
    <table class="approval-table">
        <tr>
            <th rowspan="2">결<br>재</th>
            <td>담당</td>
            <td>원장</td>            
        </tr>
        <tr>
            <td class="sign">
                 {% if gdraft.drs_status_C == '결재완료' %}
                    <img src="{% static 'img/success.png' %}" alt="결재완료" width="50" height="50"> 
                {% elif gdraft.drs_status_C == '반려'  %}
                    <img src="{% static 'img/reject.png' %}" alt="반려" width="50" height="50"> 
                {% elif gdraft.drs_status_C == '결재대기'  %}
                                   <br>
                {% endif %}
            </td>
            <td class="sign">
                 {% if gdraft.drs_status_D == '결재완료' %}
                    <img src="{% static 'img/success.png' %}" alt="결재완료" width="50" height="50"> 
                {% elif gdraft.drs_status_D == '반려'  %}
                    <img src="{% static 'img/reject.png' %}" alt="반려" width="50" height="50"> 
                {% elif gdraft.drs_status_D == '결재대기'  %}
                                
                {% endif %}</td>            
        </tr>
    </table>

    <!-- 기본 정보 -->
    <table class="info-table">
        <tr>
            <th>문서번호</th>
            <td>{{ gdraft.dr_no }}</td>
            <th>기안일자</th>
            <td>{{ gdraft.dr_date }}</td>
        </tr>
        <tr>            
            <th>기안자</th>
            <td colspan="3">{{ gdraft.username }}</td>
        </tr>
        
        <tr>
            <th>제 목</th>
            <td colspan="3">{{ gdraft.dr_title }}</td>
        </tr>
    </table>

    <!-- 내용 -->
    <table class="content-table">
        <tr>
            <th style="width: 15%;">내 용</th>
            <td class="content-area">
                {{ gdraft.dr_content|linebreaksbr }}
            </td>
        </tr>
    </table>
</div>

{% endblock %}
{% block script %}

{% endblock %}