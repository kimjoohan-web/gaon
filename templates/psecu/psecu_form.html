{% extends 'base.html' %}
{% load pybo_filter %}
{% block content %}

<div class="container my-3">
    <div class="row my-3">
        <div class="col text-center">
            <h2>직원 PC보안 매뉴얼 점검표(매주)</h2>
        </div>
        
    </div>
    <div class="row my-3">        
        <div class="col-12">
            개인정보보호 및 효율적인 보안업무 수행을 위해 정보통신시설에 포함된 기기는 아래의 매뉴얼에 따라 각 PC의 보안관리를 수행하여 주시고 점검하기 바랍니다.
        </div>
    </div>
    <form method="post">
        {% csrf_token %}
     <table class="table " style="border-top: 2px solid #222324;border-bottom: 2px solid #222324;" > 
        <tr>
            <th class="text-center " style="width: 10%; border: 1px dotted #222324;">일자 :</th>
            <td class="text-start" style="width: 30%;border: 1px dotted #222324;"><input type="text" name="p_m_c_wdate" id="p_m_c_wdate" class="w-100" value="{{p_m_c_wdate|default_if_none:toDay}}" placeholder="0000-00-00"></td>
            <th class="text-center " style="width: 10%;border: 1px dotted #222324;" rowspan="2">결제 </th>
            <td class="text-center " style="width: 25%;border: 1px dotted #222324;">담당</td>       
            <td class="text-center" style="width: 25%;border: 1px dotted #222324;">원장</td>
        </tr>
        <tr >
            <th class="text-center" style="border: 1px dotted #222324;" >작성자 :</th>
            <td class="text-start" style="border: 1px dotted #222324;"><input type="text" name="writer" id="writer" class="w-100" value="{{username}}" readonly></td>
            <td class="text-center" style="border: 1px dotted #222324;">{%if p_wb_check == 'Y' %} {{check_username|default_if_none:""}}{% endif %}</td>
            <td class="text-center" style="border: 1px dotted #222324;" > {%if p_wb_review_check == 'Y' %} {{review_check_username|default_if_none:""}}{% endif %}</td>       
        </tr>
        
        
     </table>
    <table class="table table-striped"> 
        
        <thead class="table-dark">
        <tr>
            <th class="text-start " style="width: 70%;" colspan="2">PC관리</th>            
            <th class="text-center" style="width: 15%;">예</th>
            <th class="text-center" style="width: 15%;">아니오</th>              
        </tr>
        </thead>
        
        <tbody>           
        {%if ps_list_p %}
        
        {% for c_quest in ps_list_p %}        
        <tr>
            <td class="text-center">
                <!-- 번호 = 전체건수 - 시작인덱스 - 현재인덱스 + 1 -->
                {{ forloop.counter }}                
            </td>
            <!-- <td>{{ forloop.counter }}</td> -->
            <td class="text-start">
                {{ c_quest.p_m_title }}
               
            </td>  
            <td class="text-center">
               <input type="radio" name="psecu_{{c_quest.p_m_idx}}" value="1" {% if c_quest.p_m_c_val == '1'   %} checked="checked"{% endif %}>
               
            </td>
            <td class="text-center">
               <input type="radio" name="psecu_{{c_quest.p_m_idx}}" value="0" {% if c_quest.p_m_c_val == '0' %}checked="checked"{% endif %}>               
            </td>
                    
        </tr>
        
        {% endfor %}    
        
        {% else %}
        <tr>
            <td colspan="2">질문이 없습니다.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>
    <table class="table table-striped"> 
        
        <thead class="table-dark">
        <tr>
            <th class="text-start " style="width: 70%;" colspan="2">USB 관리</th>            
            <th class="text-center" style="width: 15%;">예</th>
            <th class="text-center" style="width: 15%;">아니오</th>              
        </tr>
        </thead>
        
        <tbody>           
        {%if ps_list_u %}
        
        {% for u_quest in ps_list_u %}        
        <tr>
            <td class="text-center">
                <!-- 번호 = 전체건수 - 시작인덱스 - 현재인덱스 + 1 -->
                {{ forloop.counter }}                
            </td>
            <!-- <td>{{ forloop.counter }}</td> -->
            <td class="text-start">
                {{ u_quest.p_m_title }}
               
            </td>  
            <td class="text-center">
               <input type="radio" name="psecu_{{u_quest.p_m_idx}}" value="1" {% if u_quest.p_m_c_val == '1' %}checked="checked"{% endif %} >
               
            </td>
            <td class="text-center">
               <input type="radio" name="psecu_{{u_quest.p_m_idx}}" value="0" {% if u_quest.p_m_c_val == '0' %}checked="checked"{% endif %}>               
            </td>
                    
        </tr>
        
        {% endfor %}    
        
        {% else %}
        <tr>
            <td colspan="2">질문이 없습니다.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>

    <table class="table table-striped"> 
        
        <thead class="table-dark">
        <tr>
            <th class="text-start " style="width: 70%;" colspan="2">개인정보 관리</th>            
            <th class="text-center" style="width: 15%;">예</th>
            <th class="text-center" style="width: 15%;">아니오</th>              
        </tr>
        </thead>
        
        <tbody>           
        {%if ps_list_pe %}
        
        {% for pe_quest in ps_list_pe    %}        
        <tr>
            <td class="text-center">
                <!-- 번호 = 전체건수 - 시작인덱스 - 현재인덱스 + 1 -->
                {{ forloop.counter }}                
            </td>
            <!-- <td>{{ forloop.counter }}</td> -->
            <td class="text-start">
                {{ pe_quest.p_m_title }}
               
            </td>  
            <td class="text-center">
               <input type="radio" name="psecu_{{pe_quest.p_m_idx}}" value="1"{% if pe_quest.p_m_c_val == '1' %}checked="checked"{% endif %}>
               
            </td>
            <td class="text-center">
               <input type="radio" name="psecu_{{pe_quest.p_m_idx}}" value="0" {% if pe_quest.p_m_c_val == '0' %}checked="checked"{% endif %}>               
            </td>
                    
        </tr>
        
        {% endfor %}    
        
        {% else %}
        <tr>
            <td colspan="2">질문이 없습니다.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>
    
   
   <button type="submit" class="btn btn-primary text-center">제출하기</button>
   

   <input type="hidden" name="p_m_b" value="{{p_wb_b}}">
   <input type="hidden" name="p_wb_idx" value="{{p_wb_idx}}">
   <input type="hidden" name="p_m_c_name" value="{{useridx}}">

   </form>
</div>

{% endblock %}
{% block script %}
<!-- <script type='text/javascript'>
const page_elements = document.getElementsByClassName("page-link");
Array.from(page_elements).forEach(function(element) {
    element.addEventListener('click', function() {
        document.getElementById('page').value = this.dataset.page;
        document.getElementById('searchForm').submit();
    });
});
const btn_search = document.getElementById("btn_search");
btn_search.addEventListener('click', function() {
    document.getElementById('kw').value = document.getElementById('search_kw').value;
    document.getElementById('page').value = 1;  // 검색버튼을 클릭할 경우 1페이지부터 조회한다.
    document.getElementById('searchForm').submit();
});
</script> -->


{% endblock %}